(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,18566,(e,t,s)=>{t.exports=e.r(76562)},66027,17010,e=>{"use strict";e.s(["useQuery",()=>es],66027);var t,s,i,a,r,n,l,o,c,h,u,d,p,m,f,v,g,b,_,y,w,x,S,k,R=e.i(39946),j=e.i(70292),T=e.i(62351),M=e.i(37696),C=e.i(88245),O=e.i(75555),P=e.i(40143),I=e.i(86491),E=e.i(15823),N=e.i(93803),D=e.i(19273),A=e.i(80166),U=(t=new WeakMap,s=new WeakMap,i=new WeakMap,a=new WeakMap,r=new WeakMap,n=new WeakMap,l=new WeakMap,o=new WeakMap,c=new WeakMap,h=new WeakMap,u=new WeakMap,d=new WeakMap,p=new WeakMap,m=new WeakMap,f=new WeakMap,v=new WeakSet,g=new WeakSet,b=new WeakSet,_=new WeakSet,y=new WeakSet,w=new WeakSet,x=new WeakSet,S=new WeakSet,k=new WeakSet,class extends E.Subscribable{bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){1===this.listeners.size&&((0,R._)(this,s).addObserver(this),W((0,R._)(this,s),this.options)?(0,M._)(this,v,F).call(this):this.updateResult(),(0,M._)(this,y,G).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return L((0,R._)(this,s),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return L((0,R._)(this,s),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,(0,M._)(this,w,H).call(this),(0,M._)(this,x,K).call(this),(0,R._)(this,s).removeObserver(this)}setOptions(e){let i=this.options,a=(0,R._)(this,s);if(this.options=(0,R._)(this,t).defaultQueryOptions(e),void 0!==this.options.enabled&&"boolean"!=typeof this.options.enabled&&"function"!=typeof this.options.enabled&&"boolean"!=typeof(0,D.resolveEnabled)(this.options.enabled,(0,R._)(this,s)))throw Error("Expected enabled to be a boolean or a callback that returns a boolean");(0,M._)(this,S,z).call(this),(0,R._)(this,s).setOptions(this.options),i._defaulted&&!(0,D.shallowEqualObjects)(this.options,i)&&(0,R._)(this,t).getQueryCache().notify({type:"observerOptionsUpdated",query:(0,R._)(this,s),observer:this});let r=this.hasListeners();r&&q((0,R._)(this,s),a,this.options,i)&&(0,M._)(this,v,F).call(this),this.updateResult(),r&&((0,R._)(this,s)!==a||(0,D.resolveEnabled)(this.options.enabled,(0,R._)(this,s))!==(0,D.resolveEnabled)(i.enabled,(0,R._)(this,s))||(0,D.resolveStaleTime)(this.options.staleTime,(0,R._)(this,s))!==(0,D.resolveStaleTime)(i.staleTime,(0,R._)(this,s)))&&(0,M._)(this,g,J).call(this);let n=(0,M._)(this,b,Y).call(this);r&&((0,R._)(this,s)!==a||(0,D.resolveEnabled)(this.options.enabled,(0,R._)(this,s))!==(0,D.resolveEnabled)(i.enabled,(0,R._)(this,s))||n!==(0,R._)(this,m))&&(0,M._)(this,_,B).call(this,n)}getOptimisticResult(e){var i,l;let o=(0,R._)(this,t).getQueryCache().build((0,R._)(this,t),e),c=this.createResult(o,e);return i=this,l=c,(0,D.shallowEqualObjects)(i.getCurrentResult(),l)||((0,T._)(this,a,c),(0,T._)(this,n,this.options),(0,T._)(this,r,(0,R._)(this,s).state)),c}getCurrentResult(){return(0,R._)(this,a)}trackResult(e,t){return new Proxy(e,{get:(e,s)=>(this.trackProp(s),null==t||t(s),"promise"!==s||this.options.experimental_prefetchInRender||"pending"!==(0,R._)(this,l).status||(0,R._)(this,l).reject(Error("experimental_prefetchInRender feature flag is not enabled")),Reflect.get(e,s))})}trackProp(e){(0,R._)(this,f).add(e)}getCurrentQuery(){return(0,R._)(this,s)}refetch(){let{...e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.fetch({...e})}fetchOptimistic(e){let s=(0,R._)(this,t).defaultQueryOptions(e),i=(0,R._)(this,t).getQueryCache().build((0,R._)(this,t),s);return i.fetch().then(()=>this.createResult(i,s))}fetch(e){var t;return(0,M._)(this,v,F).call(this,{...e,cancelRefetch:null==(t=e.cancelRefetch)||t}).then(()=>(this.updateResult(),(0,R._)(this,a)))}createResult(e,t){let d,p=(0,R._)(this,s),m=this.options,f=(0,R._)(this,a),v=(0,R._)(this,r),g=(0,R._)(this,n),b=e!==p?e.state:(0,R._)(this,i),{state:_}=e,y={..._},w=!1;if(t._optimisticResults){let s=this.hasListeners(),i=!s&&W(e,t),a=s&&q(e,p,t,m);(i||a)&&(y={...y,...(0,I.fetchState)(_.data,e.options)}),"isRestoring"===t._optimisticResults&&(y.fetchStatus="idle")}let{error:x,errorUpdatedAt:S,status:k}=y;d=y.data;let j=!1;if(void 0!==t.placeholderData&&void 0===d&&"pending"===k){let e;if((null==f?void 0:f.isPlaceholderData)&&t.placeholderData===(null==g?void 0:g.placeholderData))e=f.data,j=!0;else{var M;e="function"==typeof t.placeholderData?t.placeholderData(null==(M=(0,R._)(this,u))?void 0:M.state.data,(0,R._)(this,u)):t.placeholderData}void 0!==e&&(k="success",d=(0,D.replaceData)(null==f?void 0:f.data,e,t),w=!0)}if(t.select&&void 0!==d&&!j)if(f&&d===(null==v?void 0:v.data)&&t.select===(0,R._)(this,c))d=(0,R._)(this,h);else try{(0,T._)(this,c,t.select),d=t.select(d),d=(0,D.replaceData)(null==f?void 0:f.data,d,t),(0,T._)(this,h,d),(0,T._)(this,o,null)}catch(e){(0,T._)(this,o,e)}(0,R._)(this,o)&&(x=(0,R._)(this,o),d=(0,R._)(this,h),S=Date.now(),k="error");let C="fetching"===y.fetchStatus,O="pending"===k,P="error"===k,E=O&&C,A=void 0!==d,U={status:k,fetchStatus:y.fetchStatus,isPending:O,isSuccess:"success"===k,isError:P,isInitialLoading:E,isLoading:E,data:d,dataUpdatedAt:y.dataUpdatedAt,error:x,errorUpdatedAt:S,failureCount:y.fetchFailureCount,failureReason:y.fetchFailureReason,errorUpdateCount:y.errorUpdateCount,isFetched:y.dataUpdateCount>0||y.errorUpdateCount>0,isFetchedAfterMount:y.dataUpdateCount>b.dataUpdateCount||y.errorUpdateCount>b.errorUpdateCount,isFetching:C,isRefetching:C&&!O,isLoadingError:P&&!A,isPaused:"paused"===y.fetchStatus,isPlaceholderData:w,isRefetchError:P&&A,isStale:Q(e,t),refetch:this.refetch,promise:(0,R._)(this,l),isEnabled:!1!==(0,D.resolveEnabled)(t.enabled,e)};if(this.options.experimental_prefetchInRender){let t=e=>{"error"===U.status?e.reject(U.error):void 0!==U.data&&e.resolve(U.data)},s=()=>{t((0,T._)(this,l,U.promise=(0,N.pendingThenable)()))},i=(0,R._)(this,l);switch(i.status){case"pending":e.queryHash===p.queryHash&&t(i);break;case"fulfilled":("error"===U.status||U.data!==i.value)&&s();break;case"rejected":("error"!==U.status||U.error!==i.reason)&&s()}}return U}updateResult(){let e=(0,R._)(this,a),t=this.createResult((0,R._)(this,s),this.options);if((0,T._)(this,r,(0,R._)(this,s).state),(0,T._)(this,n,this.options),void 0!==(0,R._)(this,r).data&&(0,T._)(this,u,(0,R._)(this,s)),(0,D.shallowEqualObjects)(t,e))return;(0,T._)(this,a,t);let i=()=>{if(!e)return!0;let{notifyOnChangeProps:t}=this.options,s="function"==typeof t?t():t;if("all"===s||!s&&!(0,R._)(this,f).size)return!0;let i=new Set(null!=s?s:(0,R._)(this,f));return this.options.throwOnError&&i.add("error"),Object.keys((0,R._)(this,a)).some(t=>(0,R._)(this,a)[t]!==e[t]&&i.has(t))};(0,M._)(this,k,V).call(this,{listeners:i()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&(0,M._)(this,y,G).call(this)}constructor(e,R){super(),(0,C._)(this,v),(0,C._)(this,g),(0,C._)(this,b),(0,C._)(this,_),(0,C._)(this,y),(0,C._)(this,w),(0,C._)(this,x),(0,C._)(this,S),(0,C._)(this,k),(0,j._)(this,t,{writable:!0,value:void 0}),(0,j._)(this,s,{writable:!0,value:void 0}),(0,j._)(this,i,{writable:!0,value:void 0}),(0,j._)(this,a,{writable:!0,value:void 0}),(0,j._)(this,r,{writable:!0,value:void 0}),(0,j._)(this,n,{writable:!0,value:void 0}),(0,j._)(this,l,{writable:!0,value:void 0}),(0,j._)(this,o,{writable:!0,value:void 0}),(0,j._)(this,c,{writable:!0,value:void 0}),(0,j._)(this,h,{writable:!0,value:void 0}),(0,j._)(this,u,{writable:!0,value:void 0}),(0,j._)(this,d,{writable:!0,value:void 0}),(0,j._)(this,p,{writable:!0,value:void 0}),(0,j._)(this,m,{writable:!0,value:void 0}),(0,j._)(this,f,{writable:!0,value:new Set}),this.options=R,(0,T._)(this,t,e),(0,T._)(this,o,null),(0,T._)(this,l,(0,N.pendingThenable)()),this.bindMethods(),this.setOptions(R)}});function W(e,t){return!1!==(0,D.resolveEnabled)(t.enabled,e)&&void 0===e.state.data&&("error"!==e.state.status||!1!==t.retryOnMount)||void 0!==e.state.data&&L(e,t,t.refetchOnMount)}function L(e,t,s){if(!1!==(0,D.resolveEnabled)(t.enabled,e)&&"static"!==(0,D.resolveStaleTime)(t.staleTime,e)){let i="function"==typeof s?s(e):s;return"always"===i||!1!==i&&Q(e,t)}return!1}function q(e,t,s,i){return(e!==t||!1===(0,D.resolveEnabled)(i.enabled,e))&&(!s.suspense||"error"!==e.state.status)&&Q(e,s)}function Q(e,t){return!1!==(0,D.resolveEnabled)(t.enabled,e)&&e.isStaleByTime((0,D.resolveStaleTime)(t.staleTime,e))}function F(e){(0,M._)(this,S,z).call(this);let t=(0,R._)(this,s).fetch(this.options,e);return(null==e?void 0:e.throwOnError)||(t=t.catch(D.noop)),t}function J(){(0,M._)(this,w,H).call(this);let e=(0,D.resolveStaleTime)(this.options.staleTime,(0,R._)(this,s));if(D.isServer||(0,R._)(this,a).isStale||!(0,D.isValidTimeout)(e))return;let t=(0,D.timeUntilStale)((0,R._)(this,a).dataUpdatedAt,e);(0,T._)(this,d,A.timeoutManager.setTimeout(()=>{(0,R._)(this,a).isStale||this.updateResult()},t+1))}function Y(){var e;return null!=(e="function"==typeof this.options.refetchInterval?this.options.refetchInterval((0,R._)(this,s)):this.options.refetchInterval)&&e}function B(e){(0,M._)(this,x,K).call(this),(0,T._)(this,m,e),!D.isServer&&!1!==(0,D.resolveEnabled)(this.options.enabled,(0,R._)(this,s))&&(0,D.isValidTimeout)((0,R._)(this,m))&&0!==(0,R._)(this,m)&&(0,T._)(this,p,A.timeoutManager.setInterval(()=>{(this.options.refetchIntervalInBackground||O.focusManager.isFocused())&&(0,M._)(this,v,F).call(this)},(0,R._)(this,m)))}function G(){(0,M._)(this,g,J).call(this),(0,M._)(this,_,B).call(this,(0,M._)(this,b,Y).call(this))}function H(){(0,R._)(this,d)&&(A.timeoutManager.clearTimeout((0,R._)(this,d)),(0,T._)(this,d,void 0))}function K(){(0,R._)(this,p)&&(A.timeoutManager.clearInterval((0,R._)(this,p)),(0,T._)(this,p,void 0))}function z(){let e=(0,R._)(this,t).getQueryCache().build((0,R._)(this,t),this.options);if(e===(0,R._)(this,s))return;let a=(0,R._)(this,s);(0,T._)(this,s,e),(0,T._)(this,i,e.state),this.hasListeners()&&(null==a||a.removeObserver(this),e.addObserver(this))}function V(e){P.notifyManager.batch(()=>{e.listeners&&this.listeners.forEach(e=>{e((0,R._)(this,a))}),(0,R._)(this,t).getQueryCache().notify({query:(0,R._)(this,s),type:"observerResultsUpdated"})})}e.i(47167);var Z=e.i(71645),X=e.i(12598);e.i(43476);var $=Z.createContext(function(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}()),ee=Z.createContext(!1);ee.Provider;var et=(e,t,s)=>t.fetchOptimistic(e).catch(()=>{s.clearReset()});function es(e,t){return function(e,t,s){var i,a,r,n,l;let o=Z.useContext(ee),c=Z.useContext($),h=(0,X.useQueryClient)(s),u=h.defaultQueryOptions(e);if(null==(a=h.getDefaultOptions().queries)||null==(i=a._experimental_beforeQuery)||i.call(a,u),u._optimisticResults=o?"isRestoring":"optimistic",u.suspense){let e=e=>"static"===e?e:Math.max(null!=e?e:1e3,1e3),t=u.staleTime;u.staleTime="function"==typeof t?function(){for(var s=arguments.length,i=Array(s),a=0;a<s;a++)i[a]=arguments[a];return e(t(...i))}:e(t),"number"==typeof u.gcTime&&(u.gcTime=Math.max(u.gcTime,1e3))}(u.suspense||u.throwOnError||u.experimental_prefetchInRender)&&!c.isReset()&&(u.retryOnMount=!1),Z.useEffect(()=>{c.clearReset()},[c]);let d=!h.getQueryCache().get(u.queryHash),[p]=Z.useState(()=>new t(h,u)),m=p.getOptimisticResult(u),f=!o&&!1!==e.subscribed;if(Z.useSyncExternalStore(Z.useCallback(e=>{let t=f?p.subscribe(P.notifyManager.batchCalls(e)):D.noop;return p.updateResult(),t},[p,f]),()=>p.getCurrentResult(),()=>p.getCurrentResult()),Z.useEffect(()=>{p.setOptions(u)},[u,p]),(null==u?void 0:u.suspense)&&m.isPending)throw et(u,p,c);if((e=>{let{result:t,errorResetBoundary:s,throwOnError:i,query:a,suspense:r}=e;return t.isError&&!s.isReset()&&!t.isFetching&&a&&(r&&void 0===t.data||(0,D.shouldThrowError)(i,[t.error,a]))})({result:m,errorResetBoundary:c,throwOnError:u.throwOnError,query:h.getQueryCache().get(u.queryHash),suspense:u.suspense}))throw m.error;if(null==(n=h.getDefaultOptions().queries)||null==(r=n._experimental_afterQuery)||r.call(n,u,m),u.experimental_prefetchInRender&&!D.isServer&&m.isLoading&&m.isFetching&&!o){let e=d?et(u,p,c):null==(l=h.getQueryCache().get(u.queryHash))?void 0:l.promise;null==e||e.catch(D.noop).finally(()=>{p.updateResult()})}return u.notifyOnChangeProps?m:p.trackResult(m)}(e,U,t)}e.s(["getQuoteData",()=>ep,"itadSearchByTitle",()=>eh],17010);let ei=["https://cors-anywhere.herokuapp.com/","https://api.codetabs.com/v1/proxy/?quest=","https://corsproxy.io/?",""],ea="https://api.isthereanydeal.com",er="c0976eafdab986bfcb33938af615368ae9eefa4f";function en(e){let t={"018d937f-2a29-7310-9c92-389377742acf":"7 Days to Die",default:"Sample Game"},s=t[e]||t.default,i=Math.floor(5e3*Math.random())+1e3;return{data:{[e]:{title:s,list:[{id:"61",name:"Steam",priceJPY:i,availability:"available",discountPercent:Math.floor(50*Math.random()),regularPriceJPY:Math.floor(1.2*i),url:"https://store.steampowered.com/app/".concat(Math.floor(1e5*Math.random()),"/"),timestamp:new Date().toISOString(),isOnSale:Math.random()>.5},{id:"16",name:"Epic Games Store",priceJPY:Math.floor(1.1*i),availability:"available",discountPercent:Math.floor(30*Math.random()),regularPriceJPY:Math.floor(1.3*i),url:"https://www.epicgames.com/store/p/".concat(Math.random().toString(36).substr(2,9)),timestamp:new Date().toISOString(),isOnSale:Math.random()>.5},{id:"35",name:"GOG",priceJPY:Math.floor(.95*i),availability:"available",discountPercent:Math.floor(40*Math.random()),regularPriceJPY:Math.floor(1.15*i),url:"https://www.gog.com/game/".concat(Math.random().toString(36).substr(2,9)),timestamp:new Date().toISOString(),isOnSale:Math.random()>.5}],summary:{allTimeLow:{priceJPY:Math.floor(.5*i),shopName:"Steam",timestamp:"2023-12-25T00:00:00Z"}}}}}}console.log("[ITAD Client] API_KEY status:","set"),console.log("[ITAD Client] Using REAL API integration with CORS proxy");let el=[61,16,35,37,48,6,36];async function eo(e){return new Promise(t=>setTimeout(t,e))}async function ec(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{retries:s=2,retryDelayMs:i=600,label:a="itad",...r}=t,n=new AbortController,l=setTimeout(()=>n.abort(),2e4),o=new URL("string"==typeof e?e:e.toString());"GET"===r.method&&!o.searchParams.has("key")&&er&&o.searchParams.set("key",er);for(let e=0;e<ei.length;e++){let t=ei[e],s=t?t+encodeURIComponent(o.toString()):o.toString();console.log("[ITAD ".concat(a,"] Trying proxy ").concat(e+1,"/").concat(ei.length,": ").concat(t||"direct"));try{let t=await fetch(s,{...r,signal:n.signal});if(t.ok)return console.log("[ITAD ".concat(a,"] Success with proxy ").concat(e+1)),t;console.warn("[ITAD ".concat(a,"] Proxy ").concat(e+1," failed: ").concat(t.status," ").concat(t.statusText))}catch(t){console.warn("[ITAD ".concat(a,"] Proxy ").concat(e+1," error:"),t)}}let c=Error("All CORS proxies failed for ".concat(a));if(s>0)return console.warn("[ITAD ".concat(a,"] All proxies failed -> retrying... (").concat(s," left)")),await eo(i),clearTimeout(l),ec(e,{...r,retries:s-1,retryDelayMs:2*i,label:a});throw clearTimeout(l),c}async function eh(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20,s=new URL("".concat(ea,"/games/search/v1"));s.searchParams.set("title",e),s.searchParams.set("results",String(t));let i=await ec(s,{method:"GET",label:"search"}),a=await i.json();return Array.isArray(a)?a:[]}async function eu(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"JP",s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:el,i=new URL("".concat(ea,"/games/prices/v3")),a=new URLSearchParams;return a.set("country",t),a.set("shops",s.join(",")),a.set("deals","false"),a.set("ids",e.join(",")),a.set("key",er),(await ec(i,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:a.toString(),label:"prices-v3"})).json()}async function ed(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"JP",s=new URL("".concat(ea,"/games/overview/v2")),i=new URLSearchParams;return i.set("country",t),i.set("ids",e.join(",")),i.set("key",er),(await ec(s,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:i.toString(),label:"overview-v2"})).json()}async function ep(e){console.log("[ITAD Client] Attempting to fetch real data via CORS proxy for:",e);try{var t,s,i,a,r;let n=await eu([e]);console.log("[ITAD Client] Prices data received:",n);let l=await ed([e]);console.log("[ITAD Client] Overview data received:",l);let o=null==n||null==(t=n.data)?void 0:t[e],c=null==l||null==(s=l.data)?void 0:s[e];if(!o||!o.list||0===o.list.length)return console.warn("[ITAD Client] No price data found in API response, using mock data"),console.log("[ITAD Client] API Response structure:",{pricesData:n,gameInfo:o}),en(e);console.log("[ITAD Client] Successfully processing real API data");let h=(o.list||[]).map(e=>{var t,s,i,a,r;return{id:(null==(s=e.shop)||null==(t=s.id)?void 0:t.toString())||Math.random().toString(),name:(null==(i=e.shop)?void 0:i.name)||"Unknown Store",priceJPY:Math.round(((null==(a=e.price)?void 0:a.amountInt)||(null==(r=e.price)?void 0:r.amount)||0)/100),regularPriceJPY:e.regular?Math.round((e.regular.amountInt||e.regular.amount||0)/100):null,discountPercent:e.cut||0,isOnSale:(e.cut||0)>0,url:e.url||"#",availability:"available",timestamp:e.timestamp||new Date().toISOString()}}),u=(null==c?void 0:c.lowest)?{priceJPY:Math.round(((null==(i=c.lowest.price)?void 0:i.amountInt)||(null==(a=c.lowest.price)?void 0:a.amount)||0)/100),shopName:(null==(r=c.lowest.shop)?void 0:r.name)||"Unknown",timestamp:c.lowest.added||new Date().toISOString()}:null,d={data:{[e]:{title:o.title||(null==c?void 0:c.title)||"Unknown Game",list:h,summary:{allTimeLow:u}}}};return console.log("[ITAD Client] Real API data successfully processed:",d),d}catch(t){return console.error("[ITAD Client] API call failed, falling back to mock data:",t),en(e)}}},90454,e=>{"use strict";e.s(["default",()=>c],90454);var t=e.i(43476),s=e.i(71645),i=e.i(18566),a=e.i(66027);function r(e){let{games:s,isLoading:a,query:r}=e,n=(0,i.useRouter)();return r?a?(0,t.jsx)("div",{className:"mt-8 bg-white rounded-xl shadow-sm border border-gray-200 p-8",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),(0,t.jsx)("p",{className:"mt-2 text-gray-600",children:"検索中..."})]})}):0===s.length?(0,t.jsx)("div",{className:"mt-8 bg-white rounded-xl shadow-sm border border-gray-200 p-12",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"text-4xl mb-4",children:"🔍"}),(0,t.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"検索結果が見つかりません"}),(0,t.jsxs)("p",{className:"text-gray-500",children:["「",r,"」に一致するゲームが見つかりませんでした。"]})]})}):(0,t.jsxs)("div",{className:"mt-8 space-y-4",children:[(0,t.jsxs)("h2",{className:"text-xl font-semibold text-gray-900",children:["検索結果: 「",r,"」(",s.length,"件)"]}),(0,t.jsx)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:(0,t.jsx)("div",{className:"divide-y divide-gray-100",children:s.map(e=>{var s;return(0,t.jsx)("div",{onClick:()=>(e=>{let t=encodeURIComponent(e.title);n.push("/price?id=".concat(e.id,"&title=").concat(t))})(e),className:"p-4 hover:bg-blue-50 cursor-pointer transition-colors",children:(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(null==(s=e.assets)?void 0:s.banner145)?(0,t.jsx)("img",{src:e.assets.banner145,alt:e.title,className:"w-16 h-16 object-cover rounded-lg flex-shrink-0",onError:e=>{e.target.style.display="none"}}):(0,t.jsx)("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-100 to-blue-200 rounded-lg flex items-center justify-center flex-shrink-0",children:(0,t.jsx)("span",{className:"text-lg font-semibold text-blue-600",children:"🎮"})}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)("h3",{className:"font-medium text-gray-900 truncate",children:e.title}),(0,t.jsxs)("p",{className:"text-sm text-gray-500",children:[e.type&&(0,t.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs bg-gray-100 text-gray-600 mr-2",children:e.type}),"ID: ",e.id]})]}),(0,t.jsx)("div",{className:"flex-shrink-0",children:(0,t.jsx)("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]})},e.id)})})})]}):null}var n=e.i(17010);async function l(e){if(!e.trim())return{data:[]};try{return{data:(await (0,n.itadSearchByTitle)(e.trim(),20)).filter(e=>"game"===e.type||!e.type)}}catch(e){throw Error("検索に失敗しました")}}function o(){let e=(0,i.useSearchParams)(),n=(0,i.useRouter)(),o=e.get("query")||"",[c,h]=(0,s.useState)(o),u=function(e,t){let[i,a]=(0,s.useState)(e);return(0,s.useEffect)(()=>{let t=setTimeout(()=>{a(e)},300);return()=>{clearTimeout(t)}},[e,300]),i}(c,300);(0,s.useEffect)(()=>{let e=new URLSearchParams;u.trim()&&e.set("query",u.trim());let t=e.toString()?"/search?".concat(e.toString()):"/search";window.history.replaceState({},"",t)},[u]);let{data:d,isLoading:p,error:m}=(0,a.useQuery)({queryKey:["search",u],queryFn:()=>l(u),enabled:u.trim().length>0});return(0,t.jsx)("div",{className:"min-h-screen bg-background text-foreground",children:(0,t.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,t.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4 mb-8",children:[(0,t.jsx)("button",{onClick:()=>{n.push("/")},className:"px-4 py-2 text-blue-600 hover:text-blue-800 transition-colors",children:"← ホームに戻る"}),(0,t.jsx)("h1",{className:"text-2xl font-bold",children:"ゲーム検索"})]}),(0,t.jsx)("div",{className:"mb-8",children:(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("input",{type:"text",value:c,onChange:e=>h(e.target.value),placeholder:"ゲームを検索...",className:"w-full px-4 py-3 text-lg border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",autoFocus:!0}),c&&(0,t.jsx)("button",{onClick:()=>h(""),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:(0,t.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),m&&(0,t.jsx)("div",{className:"mb-8 p-4 bg-red-50 border border-red-200 rounded-lg",children:(0,t.jsx)("p",{className:"text-red-600",children:"検索中にエラーが発生しました。再試行してください。"})}),(0,t.jsx)(r,{games:(null==d?void 0:d.data)||[],isLoading:p,query:u})]})})})}function c(){return(0,t.jsx)(s.Suspense,{fallback:(0,t.jsx)("div",{className:"min-h-screen bg-background text-foreground flex items-center justify-center",children:(0,t.jsx)("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}),children:(0,t.jsx)(o,{})})}}]);